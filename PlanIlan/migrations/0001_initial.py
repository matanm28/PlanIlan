# Generated by Django 3.1.5 on 2021-03-15 00:31

import PlanIlan.models.teacher
import datetime
from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Course',
            fields=[
                ('code', models.CharField(editable=False, max_length=10, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=100)),
                ('_department', models.IntegerField(choices=[(-1, 'לא קיים'), (0, 'ב.א. רב תחומי במדעי הרוח'), (1, 'ב.א. רב-תחומי'), (2, 'ביה"ס לאופטומטריה ומדעי הראייה'), (3, 'ביה"ס ללימודי משפט'), (4, 'ביה"ס למינהל עסקים'), (5, 'ביה"ס לתקשורת'), (6, 'בית הספר לחינוך ע"ש פנחס חורגין'), (7, 'בית הספר לעבודה סוציאלית ע"ש לואיס וגבי וייספלד'), (8, 'דיפלומה'), (9, 'החוג המשולב במדעי החברה'), (10, 'החוג הרב-תחומי במדעי היהדות'), (11, 'היחידה לאנגלית כשפה זרה'), (12, 'היחידה להבעה אקדמית ואולפן'), (13, 'היחידה ללימודי תקשורת ועיתונאות'), (14, 'היחידה לשפות'), (15, 'המגמה לתושב"ע'), (16, 'המדרשה לנשים'), (17, 'המחלקה לאמנות יהודית'), (18, 'המחלקה לבלשנות וספרות אנגלית'), (19, 'המחלקה לגיאוגרפיה וסביבה'), (20, 'המחלקה להסטוריה כללית'), (21, 'המחלקה לכימיה'), (22, 'המחלקה לכלכלה'), (23, 'המחלקה ללימודי ארץ ישראל וארכיאולוגיה'), (24, 'המחלקה ללימודי המזרח התיכון'), (25, 'המחלקה ללימודים קלאסיים'), (26, 'המחלקה ללשון העברית וללשונות שמיות'), (27, 'המחלקה למדעי המדינה'), (28, 'המחלקה למדעי המחשב'), (29, 'המחלקה למדעי המידע'), (30, 'המחלקה למוזיקה'), (31, 'המחלקה למחשבת ישראל'), (32, 'המחלקה למתמטיקה'), (33, 'המחלקה לניהול'), (34, 'המחלקה לסוציולוגיה ואנתרופולוגיה'), (35, 'המחלקה לספרות משווה'), (36, 'המחלקה לספרות עם ישראל ע"ש יוסף ונחום ברמן'), (37, 'המחלקה לערבית'), (38, 'המחלקה לפילוסופיה'), (39, 'המחלקה לפיזיקה'), (40, 'המחלקה לפסיכולוגיה'), (41, 'המחלקה לקרימינולוגיה'), (42, 'המחלקה לתולדות ישראל ויהדות זמננו'), (43, 'המחלקה לתלמוד ותושב"ע ע"ש נפתלי יפה'), (44, 'המחלקה לתנ"ך על שם זלמן שמיר'), (45, 'המחלקה לתרבות צרפת'), (46, 'המחלקה לתרגום וחקר התרגום'), (47, 'המכון לשלטון מקומי'), (48, 'הפקולטה להנדסה ע"ש אלכסנדר קופקין'), (49, 'הפקולטה למדעי החיים ע"ש מינה ואבררד גודמן'), (50, 'הפקולטה למשפטים'), (51, 'הפקולטה לרפואה'), (52, 'יהדות זמננו'), (53, 'לימודי יסוד - פילוסופיה יהודית'), (54, 'לימודי יסוד - תולדות ישראל'), (55, 'לימודי יסוד - תלמוד'), (56, 'לימודי יסוד - תנ"ך'), (57, 'לימודי מגדר'), (58, 'לימודי פרשנות ותרבות'), (59, 'לימודי תעודה בעריכה'), (60, 'לימודים בין-תחומיים'), (61, 'מדע, טכנולוגיה וחברה'), (62, 'מדעי המוח'), (63, 'מדעי המוח לתארים מתקדמים'), (64, 'ניהול ויישוב סכסוכים'), (65, 'ע"ס-לימודי חוץ'), (66, 'תולדות אמנות'), (67, 'תכנית ברוקדייל'), (68, 'תעודת הוראה')], db_column='department')),
                ('syllabus_link', models.URLField(null=True)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Rating',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('average', models.FloatField(default=None, null=True, validators=[django.core.validators.MinValueValidator(0, 'Value should not fall short of 0'), django.core.validators.MaxValueValidator(5, 'Value should not exceed 5')])),
                ('amount_of_raters', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0, 'Value has to be a natural number')])),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Teacher',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=80)),
                ('_title', models.IntegerField(choices=[(-1, ''), (0, 'ד"ר'), (1, "פרופ'"), (2, 'מר'), (3, 'גברת'), (4, 'הרב'), (5, 'עו"ד'), (6, 'השופט')], db_column='title')),
                ('email', models.EmailField(max_length=254, null=True)),
                ('photo', models.ImageField(null=True, upload_to=PlanIlan.models.teacher.user_directory_path)),
                ('office_location', models.CharField(max_length=75, null=True)),
                ('office_number', models.CharField(max_length=16, null=True)),
                ('website_url', models.URLField(null=True)),
                ('rating', models.OneToOneField(null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='of_teacher', to='PlanIlan.rating')),
            ],
            options={
                'unique_together': {('name', '_title')},
            },
        ),
        migrations.CreateModel(
            name='UserModel',
            fields=[
                ('user_name', models.CharField(editable=False, max_length=30, primary_key=True, serialize=False, unique=True)),
                ('faculty', models.CharField(max_length=30, null=True)),
                ('email', models.EmailField(editable=False, max_length=254, null=True)),
                ('user', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='TeacherPost',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateTimeField(default=datetime.datetime.now)),
                ('amount_of_likes', models.IntegerField(default=0)),
                ('headline', models.CharField(max_length=256)),
                ('text', models.TextField()),
                ('author', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='PlanIlan.usermodel')),
                ('teacher', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='PlanIlan.teacher')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='SessionTime',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('_day', models.IntegerField(choices=[(1, 'א'), (2, 'ב'), (3, 'ג'), (4, 'ד'), (5, 'ה'), (6, 'ו')], db_column='day')),
                ('_semester', models.IntegerField(choices=[(1, "סמסטר א'"), (2, "סמסטר ב'"), (3, "סמסטר ק'"), (4, 'שנתי')], db_column='semester')),
                ('start_time', models.TimeField()),
                ('end_time', models.TimeField()),
                ('year', models.PositiveSmallIntegerField()),
            ],
            options={
                'unique_together': {('_day', '_semester', 'start_time', 'end_time', 'year')},
            },
        ),
        migrations.CreateModel(
            name='Location',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('building_name', models.CharField(max_length=80)),
                ('building_number', models.IntegerField(blank=True, null=True)),
                ('class_number', models.IntegerField(blank=True, null=True)),
                ('online', models.BooleanField(default=False)),
            ],
            options={
                'unique_together': {('building_name', 'building_number', 'class_number', 'online')},
            },
        ),
        migrations.CreateModel(
            name='CoursePost',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateTimeField(default=datetime.datetime.now)),
                ('amount_of_likes', models.IntegerField(default=0)),
                ('headline', models.CharField(max_length=256)),
                ('text', models.TextField()),
                ('author', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='PlanIlan.usermodel')),
                ('course', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='PlanIlan.course')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='CourseInstance',
            fields=[
                ('id', models.CharField(editable=False, max_length=20, primary_key=True, serialize=False)),
                ('group', models.CharField(max_length=3)),
                ('_session_type', models.IntegerField(choices=[(0, 'הרצאה'), (1, 'תרגול'), (2, 'תגבור'), (3, 'סמינריון'), (4, 'חברותא'), (5, 'סדנה')], db_column='session_type')),
                ('details_link', models.URLField(null=True)),
                ('points', models.FloatField(null=True)),
                ('course', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, related_name='course_instances', to='PlanIlan.course')),
                ('locations', models.ManyToManyField(related_name='courses', to='PlanIlan.Location')),
                ('session_times', models.ManyToManyField(related_name='courses', to='PlanIlan.SessionTime')),
                ('teachers', models.ManyToManyField(related_name='teaches_courses', to='PlanIlan.Teacher')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.AddField(
            model_name='course',
            name='rating',
            field=models.OneToOneField(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='of_course', to='PlanIlan.rating'),
        ),
        migrations.CreateModel(
            name='Exam',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('period', models.IntegerField(choices=[(1, "מועד א'"), (2, "מועד ב'"), (3, "מועד ג'"), (4, 'מועד מיוחד')])),
                ('date', models.DateTimeField()),
                ('course', models.ForeignKey(null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='exams', to='PlanIlan.courseinstance')),
            ],
            options={
                'unique_together': {('period', 'date')},
            },
        ),
    ]
