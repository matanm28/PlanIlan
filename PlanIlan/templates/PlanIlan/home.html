{% extends 'PlanIlan/base.html' %}
{% block title %}דף הבית{% endblock %}

{% block content %}
    {#    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>#}
    {#    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>#}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
          integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    {% load static %}
    <link rel="stylesheet" href="{% static 'PlanIlan/css/rating_style.css' %}"/>
    <link rel="stylesheet" href="{% static 'PlanIlan/css/latest-posts.css' %}"/>
    <link rel="stylesheet" href="{% static 'PlanIlan/css/likes_style.css' %}"/>
    <style>
        .btn-primary {
            width: 50%;
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(198, 30, 30, 0.7);
            color: rgba(198, 30, 30, 0.7);
        }

        .btn-primary:hover {
            background: rgba(198, 30, 30, 0.7);
            color: white !important;
        }

        .modal-title {
            color: black;
            font-weight: bold;
            font-style: italic;
            text-align: center;
        }

        .input-group-text {
            background: rgba(198, 30, 30, 0.7);
            color: white !important;
            border: 0 !important;
            border-radius: 0.25rem 0 0 0.25rem !important;
        }

        .input-group-append-data {
            position: absolute;
            right: 50px;
        }

        .input-group-append-icon {
            position: absolute;
            right: 0;
        }

    </style>
    <h1>ברוכים הבאים לאתר הסטודנטים של בר-אילן</h1>
    <!-- Button trigger modal -->
    <div class="container sectional-wrapper">
        <div class="row">
            <div class="col-md-3 col-md-offset-1 aside-section">
                <div class="widget blog-widget">
                    <h2 class="widget-header">תגובות אחרונות</h2>
                    {% for t_c in teacher_comments %}
                        <div class="ct-latest">
                            <div class="media-left">
                                <p>{{ t_c.author }}</p>
                                <input class="amount-likes" type='number' id='amount_{{ t_c.id }}' value="{{ t_c.amount_of_likes }}" readonly style="width: 40px; border: 0 !important;"/>
                                <form method="post" action="{% url 'home' %}" id="form_{{ t_c.id }}" data-id="{{ t_c.id }}">
                                    {% csrf_token %}
                                    <button type="submit" class="fa fa-heart heart-btn" id="heart" name="heart-like"  ></button>
                                </form>
                            </div>
                            <div class="media-body">
                                <h2 class="ct-latest-header media-heading">{{ t_c.headline }}</h2>
                                <p>{{ t_c.text }}</p>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    <div id="teacher_post">
    </div>
    <div id="teachers">
        {% for t in teachers %}
            <button type="button" class="btn btn-primary" data-toggle="modal"
                    data-target="#teachers-{{ forloop.counter0 }}">
                {{ t.title_and_name }}
            </button>
        {% endfor %}
    </div>
    {% for t in teachers %}
        <!-- Modal -->
        <div class="modal fade" id="teachers-{{ forloop.counter0 }}" tabindex="-1" role="dialog"
             aria-labelledby="ModalLongTitle-{{ forloop.counter0 }}" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header text-center">
                        <h3 class="modal-title w-100"
                            id="ModalLongTitle-{{ forloop.counter0 }}">{{ t.name_and_title }}</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        {{ t.name }}
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}
    <div id="courses">
        {% for c in courses_obj %}
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal"
                    data-target="#courses-{{ forloop.counter0 }}">
                {{ c.name }}
            </button>
            </div>
            <!-- Modal -->
            <div class="modal fade" id="courses-{{ forloop.counter0 }}" tabindex="-1" role="dialog"
                 aria-labelledby="ModalLongTitle-{{ forloop.counter0 }}" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header text-center">
                            <h3 class="modal-title w-100" id="ModalLongTitle-{{ forloop.counter0 }}">{{ c.name }}</h3>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="input-group mb-5" style="float: right">
                                <div class="input-group-append-icon">
                                    <span class="input-group-text"><i class="fas fa-book"></i></span>
                                </div>
                                <div class="input-group-append-data">
                                    <p>{{ c.code }} :קוד </p>
                                </div>
                            </div>
                            <div class="input-group mb-5">
                                <div class="input-group-append-icon">
                                    <span class="input-group-text"><i class="fas fa-book"></i></span>
                                </div>
                                <div class="input-group-append-data">
                                    {% if c|length > 1 %}
                                        <p> :שמות המרצים {{ c.teachers }}</p>
                                    {% else %}
                                        <p> :שם המרצה {{ c.teachers }}</p>
                                    {% endif %}
                                </div>
                                <div class="row mb-lg-5">
                                    <div class="col text-center">
                                        <form class="rate-form_{{ c.id }}" action="" method="post">
                                            {% csrf_token %}
                                            <button type="submit" class="fa fa-star fa-3x star-btn"
                                                    id="first-star_{{ c.id }}"></button>
                                            <button type="submit" class="fa fa-star fa-3x star-btn"
                                                    id="second-star_{{ c.id }}"></button>
                                            <button type="submit" class="fa fa-star fa-3x star-btn"
                                                    id="third-star_{{ c.id }}"></button>
                                            <button type="submit" class="fa fa-star fa-3x star-btn"
                                                    id="fourth-star_{{ c.id }}"></button>
                                            <button type="submit" class="fa fa-star fa-3x star-btn"
                                                    id="fifth-star_{{ c.id }}"></button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>

        {% endfor %}
{% endblock %}
{% block js_block %}
    {% load static %}
    <script type="text/javascript" src="{% static 'PlanIlan/js/rating.js' %}"></script>
    <script type="text/javascript" src="{% static 'PlanIlan/js/comment_likes.js' %}"></script>
{% endblock %}